<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dxgpt Complete Architecture Visualization</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        .header h1 {
            color: #333;
            margin: 0;
            font-size: 2em;
        }
        
        .header p {
            color: #666;
            margin: 5px 0;
            font-size: 14px;
        }
        
        .controls-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .control-section {
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
        }
        
        .control-section h3 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 1.1em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
        }
        
        .control-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .control-row:last-child {
            margin-bottom: 0;
        }
        
        .control-row label {
            font-weight: bold;
            color: #555;
            min-width: 120px;
        }
        
        .control-row input[type="range"] {
            flex: 1;
            margin: 0 10px;
        }
        
        .control-row input[type="number"] {
            width: 60px;
            padding: 2px 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        
        .control-row select, .control-row button {
            padding: 5px 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
            background-color: white;
            min-width: 100px;
        }
        
        .control-row button {
            background-color: #007bff;
            color: white;
            cursor: pointer;
            border: none;
        }
        
        .control-row button:hover {
            background-color: #0056b3;
        }
        
        .control-row button.active {
            background-color: #28a745;
        }
        
        .navigation-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .navigation-controls button {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
            background-color: #f8f9fa;
            cursor: pointer;
        }
        
        .navigation-controls button:hover {
            background-color: #e9ecef;
        }
        
        .network-container {
            width: 100%;
            height: 70vh;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fafafa;
            position: relative;
        }
        
        .zoom-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 1000;
        }
        
        .zoom-controls button {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
        }
        
        .zoom-controls button:hover {
            background-color: rgba(240, 240, 240, 0.9);
        }
        
        .physics-status {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 5px 10px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            font-size: 12px;
            z-index: 1000;
        }
        
        .legend {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        
        .legend h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        
        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 2px solid #333;
        }
        
        .footer {
            margin-top: 20px;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }
        
        .stats {
            margin-top: 10px;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .controls-panel {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Dxgpt Complete Architecture Visualization</h1>
            <p>Enhanced Interactive Architecture Visualization with Navigation & Physics Controls</p>
            <p>Generated with Universal Vis.js Generator</p>
        </div>
        
        <div class="controls-panel">
            <div class="control-section">
                <h3>üéÆ Navigation & Layout</h3>
                <div class="navigation-controls">
                    <button onclick="fitNetwork()">üìê Fit Screen</button>
                    <button onclick="resetZoom()">üîç Reset Zoom</button>
                    <button onclick="centerNetwork()">üéØ Center</button>
                    <button onclick="togglePhysics()" id="physics-toggle">‚ö° Physics ON</button>
                </div>
                <div class="control-row">
                    <label for="layout-select">Layout Type:</label>
                    <select id="layout-select">
                        <option value="forceAtlas2Based">Force Atlas 2</option>
                        <option value="barnesHut">Barnes Hut</option>
                        <option value="repulsion">Repulsion</option>
                        <option value="hierarchicalUD">Hierarchical ‚Üï</option>
                        <option value="hierarchicalLR">Hierarchical ‚Üî</option>
                    </select>
                </div>
                <div class="control-row">
                    <label for="solver-select">Physics Solver:</label>
                    <select id="solver-select">
                        <option value="forceAtlas2Based">Force Atlas 2</option>
                        <option value="barnesHut">Barnes Hut</option>
                        <option value="repulsion">Repulsion</option>
                        <option value="hierarchicalRepulsion">Hierarchical</option>
                    </select>
                </div>
            </div>

            <div class="control-section">
                <h3>‚öôÔ∏è Physics Parameters</h3>
                <div class="control-row">
                    <label for="gravity-slider">Central Gravity:</label>
                    <input type="range" id="gravity-slider" min="0" max="2" step="0.1" value="0.3">
                    <input type="number" id="gravity-value" min="0" max="2" step="0.1" value="0.3">
                </div>
                <div class="control-row">
                    <label for="spring-length-slider">Spring Length:</label>
                    <input type="range" id="spring-length-slider" min="50" max="500" step="10" value="100">
                    <input type="number" id="spring-length-value" min="50" max="500" step="10" value="100">
                </div>
                <div class="control-row">
                    <label for="spring-constant-slider">Spring Strength:</label>
                    <input type="range" id="spring-constant-slider" min="0.01" max="0.5" step="0.01" value="0.08">
                    <input type="number" id="spring-constant-value" min="0.01" max="0.5" step="0.01" value="0.08">
                </div>
                <div class="control-row">
                    <label for="node-distance-slider">Node Distance:</label>
                    <input type="range" id="node-distance-slider" min="50" max="300" step="10" value="120">
                    <input type="number" id="node-distance-value" min="50" max="300" step="10" value="120">
                </div>
                <div class="control-row">
                    <label for="damping-slider">Damping:</label>
                    <input type="range" id="damping-slider" min="0.01" max="0.99" step="0.01" value="0.09">
                    <input type="number" id="damping-value" min="0.01" max="0.99" step="0.01" value="0.09">
                </div>
            </div>
        </div>
        
        <div class="network-container">
            <div id="network" style="width: 100%; height: 100%;"></div>
            <div class="zoom-controls">
                <button onclick="zoomIn()" title="Zoom In">+</button>
                <button onclick="zoomOut()" title="Zoom Out">‚àí</button>
                <button onclick="fitNetwork()" title="Fit to Screen">‚åÇ</button>
            </div>
            <div class="physics-status" id="physics-status">
                Physics: <span id="physics-state">Enabled</span> | 
                Navigation: <span id="nav-state">Enabled</span>
            </div>
        </div>
        
        <div class="legend">
            <h3>Entity Types</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #afa; border-color: #3a3;"></div>
                    <span>Application Components</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #7d7; border-color: #3a3;"></div>
                    <span>Core Functions</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #bbf; border-color: #33f;"></div>
                    <span>Framework Components</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #f9f; border-color: #333;"></div>
                    <span>Database Tables</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #fbb; border-color: #d33;"></div>
                    <span>Database Functions</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #f9f9f9; border-color: #999;"></div>
                    <span>Data Flow Elements</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #ffd; border-color: #aa3;"></div>
                    <span>Command Arguments</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #ffb; border-color: #b90;"></div>
                    <span>Selected Components</span>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Interactive network diagram with navigation controls | 
            Use arrow keys to navigate, +/- to zoom | 
            Mouse: drag nodes, pan view, scroll zoom | 
            Adjust physics parameters in real-time</p>
        </div>
    </div>

    <script>
        // Data from vis.js file
        // dxGPT Complete Architecture Visualization Data
// Generated by Graph29 Sequential Prompts Framework

var nodes = [
  {
    "id": 1,
    "label": "run_dxGPT_async.py\n(Command-line entry)",
    "color": "#afa",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 2,
    "label": "dxGPT_async.py\n(Main async workflow)",
    "color": "#afa",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 3,
    "label": "set_settings()",
    "color": "#7d7",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 4,
    "label": "retrieve_and_make_prompts()",
    "color": "#7d7",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 5,
    "label": "process_results()",
    "color": "#7d7",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 6,
    "label": "1. inits configuration",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 7,
    "label": "--model_alias",
    "color": "#ffd",
    "borderWidth": 2,
    "borderColor": "#aa3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 8,
    "label": "--prompt_alias",
    "color": "#ffd",
    "borderWidth": 2,
    "borderColor": "#aa3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 9,
    "label": "List of Clinical Cases\n(Pydantic models)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 10,
    "label": "process_all_batches()",
    "color": "#bbf",
    "borderWidth": 2,
    "borderColor": "#33f",
    "font": {
      "size": 10
    }
  },
  {
    "id": 11,
    "label": "prompts/dxGPT_prompts.py",
    "color": "#afa",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 12,
    "label": "Selected dxGPT Prompt\n(e.g., StandardDxGPTPrompt)",
    "color": "#ffb",
    "borderWidth": 2,
    "borderColor": "#b90",
    "font": {
      "size": 10
    }
  },
  {
    "id": 13,
    "label": "PromptBuilder",
    "color": "#bbf",
    "borderWidth": 2,
    "borderColor": "#33f",
    "font": {
      "size": 10
    }
  },
  {
    "id": 14,
    "label": "AsyncModelHandler",
    "color": "#bbf",
    "borderWidth": 2,
    "borderColor": "#33f",
    "font": {
      "size": 10
    }
  },
  {
    "id": 15,
    "label": "models/dxGPT_models.py",
    "color": "#afa",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 16,
    "label": "Selected dxGPT Model\n(e.g., LlamaThreeEightBConfig)",
    "color": "#ffb",
    "borderWidth": 2,
    "borderColor": "#b90",
    "font": {
      "size": 10
    }
  },
  {
    "id": 17,
    "label": "List of LLM responses\n(plain text)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 18,
    "label": "--batch_size\n--rpm_limit\n--min_batch_interval",
    "color": "#ffd",
    "borderWidth": 2,
    "borderColor": "#aa3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 19,
    "label": "--hospital\n--num_samples\n--verbose",
    "color": "#ffd",
    "borderWidth": 2,
    "borderColor": "#aa3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 20,
    "label": "get_cases_bench()",
    "color": "#fbb",
    "borderWidth": 2,
    "borderColor": "#d33",
    "font": {
      "size": 10
    }
  },
  {
    "id": 21,
    "label": "insert_or_fetch_model()\ninsert_or_fetch_prompt()",
    "color": "#fbb",
    "borderWidth": 2,
    "borderColor": "#d33",
    "font": {
      "size": 10
    }
  },
  {
    "id": 22,
    "label": "Models\n(LLM configs)",
    "color": "#f9f",
    "borderWidth": 2,
    "borderColor": "#333",
    "font": {
      "size": 10
    }
  },
  {
    "id": 23,
    "label": "Prompts\n(Templates)",
    "color": "#f9f",
    "borderWidth": 2,
    "borderColor": "#333",
    "font": {
      "size": 10
    }
  },
  {
    "id": 24,
    "label": "model_id",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 25,
    "label": "prompt_id",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 26,
    "label": "CasesBench\n(Input cases)",
    "color": "#f9f",
    "borderWidth": 2,
    "borderColor": "#333",
    "font": {
      "size": 10
    }
  },
  {
    "id": 27,
    "label": "case_bench_id",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 28,
    "label": "case_text",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 29,
    "label": "Case Model\n(Pydantic Schema)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 30,
    "label": "serialization/dxgpt_pydantic_models.py",
    "color": "#afa",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 31,
    "label": "parsers/dxGPT_parsers.py",
    "color": "#afa",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 32,
    "label": "Differential Diagnosis Parser\n(e.g., parse_top5_xml)",
    "color": "#ffb",
    "borderWidth": 2,
    "borderColor": "#b90",
    "font": {
      "size": 10
    }
  },
  {
    "id": 33,
    "label": "Rank Parser\n(e.g., universal_dif_diagnosis_parser)",
    "color": "#ffb",
    "borderWidth": 2,
    "borderColor": "#b90",
    "font": {
      "size": 10
    }
  },
  {
    "id": 34,
    "label": "Raw Differential Diagnosis\n(Extracted text block)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 35,
    "label": "List of Clinical Cases w/ DDx\n(Pydantic Models)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 36,
    "label": "add_batch_differential_diagnoses()\nin dxGPT_queries",
    "color": "#fbb",
    "borderWidth": 2,
    "borderColor": "#d33",
    "font": {
      "size": 10
    }
  },
  {
    "id": 37,
    "label": "List of Clinical Cases w/ DDx and Ranks\n(Pydantic Models)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 38,
    "label": "Rank Position\n(Integer)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 39,
    "label": "Disease Name\n(String)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 40,
    "label": "Reasoning\n(String)",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 41,
    "label": "queries/dxGPT_queries.py\n(Database operations)",
    "color": "#afa",
    "borderWidth": 2,
    "borderColor": "#3a3",
    "font": {
      "size": 10
    }
  },
  {
    "id": 42,
    "label": "add_differential_diagnosis_to_rank()\nin post_bench29",
    "color": "#fbb",
    "borderWidth": 2,
    "borderColor": "#d33",
    "font": {
      "size": 10
    }
  },
  {
    "id": 43,
    "label": "Differential Diagnosis ID",
    "color": "#f9f9f9",
    "borderWidth": 2,
    "borderColor": "#999",
    "font": {
      "size": 10
    }
  },
  {
    "id": 44,
    "label": "LlmDifferentialDiagnosis\n(Raw responses)",
    "color": "#f9f",
    "borderWidth": 2,
    "borderColor": "#333",
    "font": {
      "size": 10
    }
  },
  {
    "id": 45,
    "label": "DifferentialDiagnosis2Rank\n(Structured diagnoses)",
    "color": "#f9f",
    "borderWidth": 2,
    "borderColor": "#333",
    "font": {
      "size": 10
    }
  }
];

var edges = [
  {
    "id": 1,
    "from": 1,
    "to": 2,
    "label": "calls",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 2,
    "from": 2,
    "to": 3,
    "label": "calls",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 3,
    "from": 2,
    "to": 4,
    "label": "calls",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 4,
    "from": 2,
    "to": 5,
    "label": "calls",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 5,
    "from": 3,
    "to": 6,
    "label": "produces",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 6,
    "from": 6,
    "to": 7,
    "label": "produces",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 7,
    "from": 6,
    "to": 8,
    "label": "produces",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 8,
    "from": 9,
    "to": 10,
    "label": "sent to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 9,
    "from": 8,
    "to": 11,
    "label": "sent to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 10,
    "from": 11,
    "to": 12,
    "label": "loads",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 11,
    "from": 13,
    "to": 12,
    "label": "extends",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 12,
    "from": 12,
    "to": 10,
    "label": "used by",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 13,
    "from": 7,
    "to": 10,
    "label": "sent to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 14,
    "from": 14,
    "to": 15,
    "label": "selects",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 15,
    "from": 15,
    "to": 16,
    "label": "loads",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 16,
    "from": 16,
    "to": 17,
    "label": "produces",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 17,
    "from": 18,
    "to": 10,
    "label": "configures",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 18,
    "from": 4,
    "to": 19,
    "label": "uses",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 19,
    "from": 19,
    "to": 20,
    "label": "sent to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 20,
    "from": 7,
    "to": 21,
    "label": "sent to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 21,
    "from": 8,
    "to": 21,
    "label": "sent to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 22,
    "from": 21,
    "to": 22,
    "label": "queries",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 23,
    "from": 21,
    "to": 23,
    "label": "queries",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 24,
    "from": 22,
    "to": 24,
    "label": "returns",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 25,
    "from": 23,
    "to": 25,
    "label": "returns",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 26,
    "from": 26,
    "to": 27,
    "label": "returns",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 27,
    "from": 26,
    "to": 28,
    "label": "returns",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 28,
    "from": 27,
    "to": 29,
    "label": "part of",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 29,
    "from": 28,
    "to": 29,
    "label": "part of",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 30,
    "from": 24,
    "to": 29,
    "label": "part of",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 31,
    "from": 25,
    "to": 29,
    "label": "part of",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 32,
    "from": 29,
    "to": 9,
    "label": "generates",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 33,
    "from": 20,
    "to": 26,
    "label": "queries",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 34,
    "from": 30,
    "to": 29,
    "label": "stored in",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 35,
    "from": 10,
    "to": 14,
    "label": "calls",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 36,
    "from": 5,
    "to": 31,
    "label": "uses",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 37,
    "from": 31,
    "to": 32,
    "label": "contains",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 38,
    "from": 31,
    "to": 33,
    "label": "contains",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 39,
    "from": 17,
    "to": 32,
    "label": "passed to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 40,
    "from": 32,
    "to": 34,
    "label": "produces",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 41,
    "from": 34,
    "to": 33,
    "label": "input for",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 42,
    "from": 9,
    "to": 35,
    "label": "augmented to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 43,
    "from": 34,
    "to": 35,
    "label": "stored as",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 44,
    "from": 35,
    "to": 36,
    "label": "sent to DB via",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 45,
    "from": 35,
    "to": 37,
    "label": "augmented to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 46,
    "from": 33,
    "to": 38,
    "label": "extracts",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 47,
    "from": 33,
    "to": 39,
    "label": "extracts",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 48,
    "from": 33,
    "to": 40,
    "label": "extracts",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 49,
    "from": 2,
    "to": 41,
    "label": "uses",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 50,
    "from": 41,
    "to": 36,
    "label": "calls",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 51,
    "from": 41,
    "to": 42,
    "label": "contains",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 52,
    "from": 36,
    "to": 43,
    "label": "generates",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 53,
    "from": 36,
    "to": 44,
    "label": "writes to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 54,
    "from": 38,
    "to": 37,
    "label": "stored in",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 55,
    "from": 39,
    "to": 37,
    "label": "stored in",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 56,
    "from": 40,
    "to": 37,
    "label": "stored in",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 57,
    "from": 43,
    "to": 37,
    "label": "stored in",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 58,
    "from": 37,
    "to": 42,
    "label": "sent to DB via",
    "arrows": "to",
    "font": {
      "size": 8
    }
  },
  {
    "id": 59,
    "from": 42,
    "to": 45,
    "label": "writes to",
    "arrows": "to",
    "font": {
      "size": 8
    }
  }
];

        
        // Network container
        const container = document.getElementById('network');
        
        // Initial network options with navigation and multiline support
        const options = {
            physics: {
                enabled: true,
                forceAtlas2Based: {
                    theta: 0.5,
                    gravitationalConstant: -50,
                    centralGravity: 0.3,
                    springConstant: 0.08,
                    springLength: 100,
                    damping: 0.09,
                    avoidOverlap: 0.1
                },
                maxVelocity: 50,
                minVelocity: 0.1,
                solver: 'forceAtlas2Based',
                stabilization: {
                    enabled: true,
                    iterations: 1000,
                    updateInterval: 25
                }
            },
            layout: {
                randomSeed: 2
            },
            interaction: {
                dragNodes: true,
                dragView: true,
                zoomView: true,
                selectConnectedEdges: true,
                hover: true,
                hoverConnectedEdges: true,
                tooltipDelay: 300,
                navigationButtons: true,  // Enable navigation buttons
                keyboard: {
                    enabled: true,
                    speed: {x: 10, y: 10, zoom: 0.02},
                    bindToWindow: false
                }
            },
            nodes: {
                borderWidth: 2,
                shadow: {
                    enabled: true,
                    color: 'rgba(0,0,0,0.2)',
                    size: 5,
                    x: 2,
                    y: 2
                },
                font: {
                    size: 12,
                    color: '#000000'
                },
                chosen: {
                    node: true,
                    label: true
                }
            },
            edges: {
                arrows: {
                    to: {
                        enabled: true,
                        scaleFactor: 0.5
                    }
                },
                shadow: {
                    enabled: true,
                    color: 'rgba(0,0,0,0.1)',
                    size: 2,
                    x: 1,
                    y: 1
                },
                smooth: {
                    type: 'continuous',
                    forceDirection: 'none',
                    roundness: 0.5
                },
                color: {
                    color: '#848484',
                    highlight: '#ff0000',
                    hover: '#ff8800'
                },
                font: {
                    size: 8,
                    face: 'Arial'
                }
            }
        };
        
        // Create network
        const network = new vis.Network(container, {nodes: nodes, edges: edges}, options);
        let physicsEnabled = true;
        
        // Event handlers
        network.on('click', function(params) {
            if (params.nodes.length > 0) {
                const nodeId = params.nodes[0];
                const node = nodes.get(nodeId);
                console.log('Clicked node:', node);
            }
        });

        network.on('hoverNode', function(params) {
            container.style.cursor = 'pointer';
        });

        network.on('blurNode', function(params) {
            container.style.cursor = 'grab';
        });

        network.on('dragStart', function(params) {
            container.style.cursor = 'grabbing';
        });

        network.on('dragEnd', function(params) {
            container.style.cursor = 'grab';
        });
        
        // Control functions
        function fitNetwork() {
            network.fit({
                animation: {
                    duration: 1000,
                    easingFunction: 'easeInOutQuad'
                }
            });
        }
        
        function resetZoom() {
            network.moveTo({
                position: {x: 0, y: 0},
                scale: 1,
                animation: {
                    duration: 1000,
                    easingFunction: 'easeInOutQuad'
                }
            });
        }
        
        function centerNetwork() {
            const positions = network.getPositions();
            const nodeIds = Object.keys(positions);
            if (nodeIds.length > 0) {
                let avgX = 0, avgY = 0;
                nodeIds.forEach(function(nodeId) {
                    avgX += positions[nodeId].x;
                    avgY += positions[nodeId].y;
                });
                avgX /= nodeIds.length;
                avgY /= nodeIds.length;
                
                network.moveTo({
                    position: {x: avgX, y: avgY},
                    animation: {
                        duration: 1000,
                        easingFunction: 'easeInOutQuad'
                    }
                });
            }
        }
        
        function zoomIn() {
            const scale = network.getScale() * 1.2;
            network.moveTo({scale: scale});
        }
        
        function zoomOut() {
            const scale = network.getScale() / 1.2;
            network.moveTo({scale: scale});
        }
        
        function togglePhysics() {
            physicsEnabled = !physicsEnabled;
            network.setOptions({physics: {enabled: physicsEnabled}});
            
            const button = document.getElementById('physics-toggle');
            const statusSpan = document.getElementById('physics-state');
            
            if (physicsEnabled) {
                button.textContent = '‚ö° Physics ON';
                button.classList.add('active');
                statusSpan.textContent = 'Enabled';
            } else {
                button.textContent = '‚ö° Physics OFF';
                button.classList.remove('active');
                statusSpan.textContent = 'Disabled';
            }
        }
        
        // Physics parameter controls
        function updatePhysicsParameter(param, value) {
            switch(param) {
                case 'gravity':
                    network.setOptions({
                        physics: {
                            forceAtlas2Based: {centralGravity: parseFloat(value)},
                            barnesHut: {centralGravity: parseFloat(value)},
                            repulsion: {centralGravity: parseFloat(value)}
                        }
                    });
                    break;
                case 'springLength':
                    network.setOptions({
                        physics: {
                            forceAtlas2Based: {springLength: parseInt(value)},
                            barnesHut: {springLength: parseInt(value)},
                            repulsion: {springLength: parseInt(value)}
                        }
                    });
                    break;
                case 'springConstant':
                    network.setOptions({
                        physics: {
                            forceAtlas2Based: {springConstant: parseFloat(value)},
                            barnesHut: {springConstant: parseFloat(value)},
                            repulsion: {springConstant: parseFloat(value)}
                        }
                    });
                    break;
                case 'nodeDistance':
                    network.setOptions({
                        physics: {
                            barnesHut: {avoidOverlap: parseInt(value)/1000},
                            repulsion: {nodeDistance: parseInt(value)}
                        }
                    });
                    break;
                case 'damping':
                    network.setOptions({
                        physics: {
                            forceAtlas2Based: {damping: parseFloat(value)},
                            barnesHut: {damping: parseFloat(value)},
                            repulsion: {damping: parseFloat(value)}
                        }
                    });
                    break;
            }
        }
        
        // Set up slider controls
        function setupSliderControl(sliderId, valueId, param) {
            const slider = document.getElementById(sliderId);
            const valueInput = document.getElementById(valueId);
            
            slider.addEventListener('input', function() {
                valueInput.value = slider.value;
                updatePhysicsParameter(param, slider.value);
            });
            
            valueInput.addEventListener('input', function() {
                slider.value = valueInput.value;
                updatePhysicsParameter(param, valueInput.value);
            });
        }
        
        // Initialize slider controls
        setupSliderControl('gravity-slider', 'gravity-value', 'gravity');
        setupSliderControl('spring-length-slider', 'spring-length-value', 'springLength');
        setupSliderControl('spring-constant-slider', 'spring-constant-value', 'springConstant');
        setupSliderControl('node-distance-slider', 'node-distance-value', 'nodeDistance');
        setupSliderControl('damping-slider', 'damping-value', 'damping');
        
        // Layout selector
        document.getElementById('layout-select').addEventListener('change', function(e) {
            const layoutType = e.target.value;
            let newOptions = {...options};
            
            if (layoutType === 'hierarchicalUD') {
                newOptions.layout = {
                    hierarchical: {
                        enabled: true,
                        levelSeparation: 150,
                        nodeSpacing: 100,
                        treeSpacing: 200,
                        blockShifting: true,
                        edgeMinimization: true,
                        parentCentralization: true,
                        direction: 'UD',
                        sortMethod: 'directed'
                    }
                };
                newOptions.physics.solver = 'hierarchicalRepulsion';
            } else if (layoutType === 'hierarchicalLR') {
                newOptions.layout = {
                    hierarchical: {
                        enabled: true,
                        levelSeparation: 150,
                        nodeSpacing: 100,
                        treeSpacing: 200,
                        blockShifting: true,
                        edgeMinimization: true,
                        parentCentralization: true,
                        direction: 'LR',
                        sortMethod: 'directed'
                    }
                };
                newOptions.physics.solver = 'hierarchicalRepulsion';
            } else {
                newOptions.layout = {randomSeed: 2};
                newOptions.physics.solver = layoutType;
            }
            
            network.setOptions(newOptions);
            document.getElementById('solver-select').value = newOptions.physics.solver;
        });
        
        // Solver selector
        document.getElementById('solver-select').addEventListener('change', function(e) {
            const solver = e.target.value;
            network.setOptions({
                physics: {
                    solver: solver
                }
            });
        });
        
        // Keyboard shortcuts (in addition to built-in navigation)
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName.toLowerCase() === 'input') return;
            
            switch(e.key) {
                case ' ':
                    e.preventDefault();
                    togglePhysics();
                    break;
                case 'f':
                    e.preventDefault();
                    fitNetwork();
                    break;
                case 'r':
                    e.preventDefault();
                    resetZoom();
                    break;
                case 'c':
                    e.preventDefault();
                    centerNetwork();
                    break;
            }
        });
        
        // Initial setup
        setTimeout(function() {
            fitNetwork();
            // Set default physics button state
            document.getElementById('physics-toggle').classList.add('active');
        }, 1000);
        
        // Set cursor styles
        container.style.cursor = 'grab';
        
    </script>
</body>
</html>